<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Info Restok XC-Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg:#0b0b0e;
  --card:rgba(255,255,255,0.05);
  --border:rgba(255,255,255,0.1);
  --text:#ffffff;
  --ready:#2ecc71;
  --habis:#e74c3c;
  --accent:#caa86a;
}

*{box-sizing:border-box;font-family:"Segoe UI",sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#1a1a1f,var(--bg));
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:20px;
}

.container{width:100%;max-width:520px}

/* HEADER */
.header{text-align:center;margin-bottom:14px}
.header h1{font-size:20px;color:var(--accent);margin:0}
#updateTime{font-size:12px;opacity:.6;margin-top:6px}

/* TAB */
.tabs{display:flex;gap:6px;margin-bottom:14px}
.tab{
  flex:1;
  text-align:center;
  padding:8px 6px;
  font-size:12px;
  border-radius:10px;
  cursor:pointer;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
}
.tab.active{
  background:rgba(202,168,106,.15);
  border-color:var(--accent);
  color:var(--accent);
}

/* CARD */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
}
.category-title{
  text-align:center;
  font-size:16px;
  margin-bottom:12px;
}

/* ITEM */
.item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 0;
  border-bottom:1px dashed var(--border);
  position:relative;
}
.item:last-child{border-bottom:none}
.name{font-size:14px}

.status-box{display:flex;gap:6px;cursor:pointer}
.status{font-size:13px;font-weight:600}
.ready{color:var(--ready)}
.habis{color:var(--habis)}
.arrow{font-size:12px;opacity:.8}

/* DROPDOWN */
.dropdown{
  position:absolute;
  right:0;
  top:40px;
  background:#111;
  border:1px solid var(--border);
  border-radius:10px;
  display:none;
  overflow:hidden;
  z-index:10;
}
.dropdown div{
  padding:8px 14px;
  font-size:13px;
  cursor:pointer;
}
.dropdown div:hover{background:rgba(255,255,255,.08)}

/* EXPORT */
.export-btn{
  margin-top:14px;
  padding:12px;
  text-align:center;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(202,168,106,0.12);
  color:var(--accent);
  font-size:14px;
  cursor:pointer;
  transition:.2s;
}
.export-btn:hover{
  background:rgba(202,168,106,0.2);
}
</style>
</head>

<body>

<div class="container">

  <div class="header">
    <h1>INFO RESTOK by XC-STORE</h1>
    <div id="updateTime">Update: -</div>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="xl">XL CIRCLE</div>
    <div class="tab" data-tab="v1">AKRAB V1</div>
    <div class="tab" data-tab="v2">AKRAB V2</div>
  </div>

  <div class="card">
    <div class="category-title" id="categoryTitle"></div>
    <div id="stokList"></div>
  </div>

  <div class="export-btn" onclick="exportWA()">üì§ Export WhatsApp</div>

</div>

<script>
/* JAM & TANGGAL */
function updateTanggalJam(){
  const n=new Date();
  document.getElementById("updateTime").textContent=
    "Update: "+n.toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})+
    " ‚Ä¢ "+n.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})+" WIB";
}
updateTanggalJam();
setInterval(updateTanggalJam,60000);

/* DATA PRODUK */
const dataProduk={
  xl:{title:"XL CIRCLE",items:[
    "XL Circle 5‚Äì9GB","XL Circle 10‚Äì14GB","XL Circle 15‚Äì19GB",
    "XL Circle 20‚Äì24GB","XL Circle 25‚Äì29GB","XL Circle 30‚Äì34GB",
    "XL Circle 35‚Äì39GB","XL Circle 40‚Äì44GB","XL Circle 45‚Äì49GB",
    "XL Circle 50‚Äì54GB","XL Circle 55‚Äì59GB","XL Circle 60‚Äì64GB",
    "XL Circle 65‚Äì69GB","XL Circle 70‚Äì74GB","XL Circle 75‚Äì79GB",
    "XL Circle 80‚Äì84GB","XL Circle 85‚Äì89GB","XL Circle 90‚Äì94GB",
    "XL Circle 95‚Äì99GB","XL Circle 100‚Äì104GB","XL Circle 105‚Äì109GB",
    "XL Circle 110‚Äì114GB","XL Circle 115‚Äì119GB"
  ]},
  v1:{title:"PAKET AKRAB V1",items:["Akrab V1 13-30GB","Akrab V1 19-36GB","Akrab V1 25-42GB","Akrab V1 31-48GB","Akrab V1 38-55GB","Akrab V1 47-64GB","Akrab V1 50-67GB","Akrab V1 54-71GB","Akrab V1 63-80GB","Akrab V1 76-93GB","Akrab V1 88-105GB","Akrab V1 110-163GB"]},
  v2:{title:"PAKET AKRAB V2",items:["Akrab V2 13GB Reguler + Kuota Area","Akrab V2 19GB Reguler + Kuota Area","Akrab V2 25GB Reguler + Kuota Area","Akrab V2 31 Reguler + Kuota AreaGB","Akrab V2 38GB Reguler + Kuota Area","Akrab V2 47GB Reguler + Kuota Area","Akrab V2 50GB Reguler + Kuota Area","Akrab V2 63GB Reguler + Kuota Area","Akrab V2 64GB Reguler + Kuota Area","Akrab V2 76GB Reguler + Kuota Area","Akrab V2 88GB Reguler + Kuota Area","Akrab V2 105GB Reguler + Kuota Area"]}
};

let activeTab="xl";
const stokList=document.getElementById("stokList");
const categoryTitle=document.getElementById("categoryTitle");

/* RENDER TAB */
function renderTab(key){
  activeTab=key;
  stokList.innerHTML="";
  categoryTitle.textContent=dataProduk[key].title;
  const saved=JSON.parse(localStorage.getItem("stok_"+key)||"{}");

  dataProduk[key].items.forEach(nama=>{
    const status=saved[nama]||"habis";
    const row=document.createElement("div");
    row.className="item";
    row.innerHTML=`
      <div class="name">${nama}</div>
      <div class="status-box">
        <div class="status ${status}">
          ${status==="ready"?"‚úî Stok Ready":"‚úñ Stok Habis"}
        </div>
        <div class="arrow">‚ñº</div>
      </div>
      <div class="dropdown">
        <div class="ready">‚úî Stok Ready</div>
        <div class="habis">‚úñ Stok Habis</div>
      </div>
    `;

    const statusEl=row.querySelector(".status");
    const dropdown=row.querySelector(".dropdown");

    row.querySelector(".status-box").onclick=e=>{
      e.stopPropagation();closeAll();dropdown.style.display="block";
    };

    dropdown.children[0].onclick=()=>setStatus(nama,"ready",statusEl,dropdown);
    dropdown.children[1].onclick=()=>setStatus(nama,"habis",statusEl,dropdown);

    stokList.appendChild(row);
  });
}

function setStatus(nama,val,el,dd){
  el.className="status "+val;
  el.textContent=val==="ready"?"‚úî Stok Ready":"‚úñ Stok Habis";
  const data=JSON.parse(localStorage.getItem("stok_"+activeTab)||"{}");
  data[nama]=val;
  localStorage.setItem("stok_"+activeTab,JSON.stringify(data));
  dd.style.display="none";
}

function closeAll(){
  document.querySelectorAll(".dropdown").forEach(d=>d.style.display="none");
}
document.addEventListener("click",closeAll);

/* TAB CLICK */
document.querySelectorAll(".tab").forEach(t=>{
  t.onclick=()=>{
    document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
    renderTab(t.dataset.tab);
  };
});

/* EXPORT WHATSAPP */
function exportWA(){
  const data=JSON.parse(localStorage.getItem("stok_"+activeTab)||"{}");
  const n=new Date();
  let text=`üì¶ INFO RESTOK ${dataProduk[activeTab].title}\n`;
  text+=`Update: ${n.toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})} ‚Ä¢ `;
  text+=`${n.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} WIB\n`;
  text+="‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";

  dataProduk[activeTab].items.forEach(p=>{
    text+=`${p} ${data[p]==="ready"?"‚úÖ":"‚ùå"}\n`;
  });

  text+="‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nKeterangan:\n‚úÖ (Stok Ready)\n‚ùå (Stok Habis)";
  window.open("https://wa.me/?text="+encodeURIComponent(text));
}

/* DEFAULT */
renderTab("xl");
</script>

</body>
</html>